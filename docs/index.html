<head>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
  <div id="chart"></div>
</body>
<script>

function processData(rows) {
  var x = [], c = [], n = [];

  for (var i = 0; i < rows.length; i++) {
    row = rows[i];
    x.push( row['build'] );
    c.push( row['covered'] );
    n.push( row['total'] - row['covered'] );
  }
    
  var plotDiv = document.getElementById("chart");
  var traces = [{
    x: x,
    y: y,
    dx: 1,
    dy: 1,
    y0: 0,
    name: 'function coverage',
    type: 'bar',
    line: { 
	    dash: 'solid',
	    color: 'blue',
	    shape: 'linear',
    },
  }];

  Plotly.newPlot(plotDiv, traces,
    { title: 'Function coverage'} );
}
  
function makeplot() {
  Plotly.d3.csv("https://github.com/krzycz/demo2/data.csv", function(data){ processData(data) } );
};

makeplot();

</script>
